(this["webpackJsonpreact-payment-form"]=this["webpackJsonpreact-payment-form"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),o=(a(9),a(10),a(1)),u=function(e){var t=e.label,a=e.type,n=e.value,c=e.name,l=e.variant,o=e.options,u=e.onChange,s=e.required;return r.a.createElement("label",{className:"form__label"},r.a.createElement("p",null,t,":")," ",function(){switch(l){case"select":return r.a.createElement("select",{name:c,onChange:u,value:n,className:"form__select"},null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.value},e.value)})));case"card-number":return r.a.createElement("input",{name:c,type:a||"text",value:n,onChange:u,required:s});case"expiry":return r.a.createElement("input",{name:c,type:a||"text",value:n,className:"form__input-expiry",onChange:u,maxLength:5,required:s});default:return r.a.createElement("input",{name:c,type:a||"text",value:n,onChange:u,maxLength:50,required:s})}}())},s="cardTypes",i="cardNumber",m="expiry",d="userName",p="userEmail",v=["Visa","MasterCard","Amex"],f=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),f=Object(o.a)(l,2),b=f[0],h=f[1],g=Object(n.useState)(""),E=Object(o.a)(g,2),y=E[0],j=E[1],N=Object(n.useState)(""),w=Object(o.a)(N,2),x=w[0],O=w[1],C=Object(n.useState)(""),k=Object(o.a)(C,2),S=k[0],A=k[1],_=Object(n.useState)(),q=Object(o.a)(_,2),D=q[0],M=q[1],T=Object(n.useState)(),B=Object(o.a)(T,2),$=B[0],J=B[1],L=function(e){var t=e.target.name,a=e.target.value;switch(t){case s:c(a);break;case i:var n=P(a);h(n);break;case m:var r=W(a);j(r);break;case d:var l=z(a);O(l);break;case p:A(a)}},P=function(e){var t=/^(\d{0,4})(\d{0,4})(\d{0,4})(\d{0,4})\d{0,16}$/g;return"Amex"===a&&(t=/^(\d{0,4})(\d{0,4})(\d{0,4})(\d{0,3})\d{0,15}$/g),e.replace(/[^\d]/g,"").replace(t,(function(e,t,a,n,r){return[t,a,n,r].filter((function(e){return!!e})).join(" ")}))},W=function(e){return e.length>=2&&(e=e.substr(0,2)+"/"+(e.substr(3)||"")),e},z=function(e){return e.replace(/[^a-zA-Z]+/g,"")};Object(n.useEffect)((function(){fetch("https://www.mocky.io/v2/5d145fa22f0000ff3ec4f030").then((function(e){return e.json()})).then((function(e){var t=e.cardTypes.filter((function(e){return v.includes(e.value)}));M(t),c(t[0].value)}))}),[]);var F=a.length>0&&b.length>0&&y.length>0&&x.length>0;return r.a.createElement("div",{className:"content"},$?r.a.createElement("div",{className:"text-blue"},r.a.createElement("p",null,$.invoiceNo),r.a.createElement("p",null,$.responseMessage)):r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target);fetch("https://www.mocky.io/v2/5d8de422310000b19d2b517a",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){J({invoiceNo:e.invoiceNo,responseMessage:e.responseMessage})})).catch((function(e){console.log(e)}))}},r.a.createElement(u,{name:s,label:"Card Types",variant:"select",value:a,options:D,onChange:L}),r.a.createElement(u,{name:i,label:"Card Number",value:b,variant:"card-number",onChange:L}),r.a.createElement(u,{name:m,label:"Expiry",value:y,variant:"expiry",onChange:L}),r.a.createElement(u,{name:d,label:"Name",value:x,onChange:L}),r.a.createElement(u,{name:p,label:"Email",type:"email",value:S,onChange:L,required:!1}),r.a.createElement("button",{type:"submit",disabled:!F},"Confirm payment")))};var b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"head-section"},r.a.createElement("p",{className:"text"},"Product: ABCD"),r.a.createElement("p",{className:"text"},"Date: 08/09/2019 12:03:44"),r.a.createElement("p",{className:"text"},"Amount: 1123.03 USD")),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.47c7082a.chunk.js.map